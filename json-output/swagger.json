{
  "openapi" : "3.0.0",
  "info" : {
    "version" : "1.0.0",
    "title" : "The Trust.med Data API",
    "description" : "API that facilitates the storage of EPCIS data for partners as an XML file with a Standard Business Document Header. \nAlso allows for partners to send messages to eachother in JSON format.\n***\n\\* Authentication Note\n---------\n\n** Note: In order to configure Certificate Based Authentication, please contact our Trust.med support team, \nwe will assist you in completing the following:\n\n1) Generate a self-signing CA Cert (or use an accepted signed like Verisign).\n2) Trade public keys of CA or CA bundles with Trust.med.\n3) Generate and sign your client certificate using the CA from above.\n4) Provide your signed client certificate with all requests.\n\n***\n",
    "termsOfService" : "https://www.trust.med/terms-and-conditions/",
    "contact" : {
      "name" : "Trust.med Support",
      "email" : "support@trust.med"
    }
  },
  "paths" : {
    "/client/storage" : {
      "post" : {
        "description" : "Send and store data documents XML EPCIS Event with GS1 SBDH within the Trust.med system. The GLN should be used in the SBDH Identifier object for the Sender and Receiver.",
        "requestBody" : {
          "content" : {
            "application/xml" : {
              "schema" : {
                "$ref" : "#/components/schemas/EPCISDocument"
              }
            }
          }
        },
        "responses" : {
          "201" : {
            "description" : "Successfull storage of data within the Trust.med system",
            "content" : {
              "application/json" : {
                "schema" : {
                  "properties" : {
                    "id" : {
                      "type" : "string",
                      "format" : "uuid4",
                      "example" : "80097006-1dff-4fb7-8457-a07c1e7bfd7c"
                    },
                    "created_at" : {
                      "type" : "string",
                      "format" : "date",
                      "example" : "2022-01-01 00:00:00"
                    }
                  }
                }
              }
            }
          },
          "401" : {
            "description" : "User's credentials or token is invalid."
          },
          "404" : {
            "description" : "ClientGLN provided is not found."
          }
        },
        "tags" : [ "Storage" ]
      }
    }
  },
  "servers" : [ {
    "description" : "Testing server",
    "url" : "https://staging.partner.trust.med/v1"
  } ],
  "components" : {
    "schemas" : {
      "Message" : {
        "type" : "object",
        "properties" : {
          "StandardBusinessDocumentHeader" : {
            "type" : "object",
            "properties" : {
              "HeaderVersion" : {
                "type" : "string",
                "example" : "1.0"
              },
              "Sender" : {
                "type" : "object",
                "properties" : {
                  "Identifier" : {
                    "type" : "string",
                    "example" : "6903148000007",
                    "description" : "This is the GLN of the sender.",
                    "properties" : {
                      "Authority" : {
                        "type" : "string",
                        "example" : "EAN.UCC",
                        "xml" : {
                          "attribute" : true
                        }
                      }
                    }
                  },
                  "ContactInformation" : {
                    "type" : "object",
                    "properties" : {
                      "Contact" : {
                        "type" : "string",
                        "example" : "John Doe"
                      },
                      "EmailAddress" : {
                        "type" : "string",
                        "example" : "John_Doe@purchasing.XYZretailer.com"
                      },
                      "FaxNumber" : {
                        "type" : "string",
                        "example" : "tel: +1-212-555-1213"
                      },
                      "TelephoneNumber" : {
                        "type" : "string",
                        "example" : "tel: +1-212-555-2122"
                      },
                      "ContactTypeIdentifier" : {
                        "type" : "string",
                        "example" : "Buyer"
                      }
                    }
                  }
                }
              },
              "Receiver" : {
                "type" : "object",
                "properties" : {
                  "Identifier" : {
                    "type" : "string",
                    "example" : "2203148000007",
                    "description" : "This is the GLN of the receiver.",
                    "properties" : {
                      "Authority" : {
                        "type" : "string",
                        "example" : "EAN.UCC",
                        "xml" : {
                          "attribute" : true
                        }
                      }
                    }
                  },
                  "ContactInformation" : {
                    "type" : "object",
                    "properties" : {
                      "Contact" : {
                        "type" : "string",
                        "example" : "Mary Smith"
                      },
                      "EmailAddress" : {
                        "type" : "string",
                        "example" : "Mary_Smith@widgets.com"
                      },
                      "FaxNumber" : {
                        "type" : "string",
                        "example" : "tel:+1-312-555-1214"
                      },
                      "TelephoneNumber" : {
                        "type" : "string",
                        "example" : "tel:+1-312-555-2125"
                      },
                      "ContactTypeIdentifier" : {
                        "type" : "string",
                        "example" : "Seller"
                      }
                    }
                  }
                }
              },
              "DocumentIdentification" : {
                "type" : "object",
                "properties" : {
                  "Standard" : {
                    "type" : "string",
                    "example" : "EAN.UCC"
                  },
                  "TypeVersion" : {
                    "type" : "string",
                    "example" : "2.1"
                  },
                  "InstanceIdentifier" : {
                    "type" : "string",
                    "example" : "100002"
                  },
                  "Type" : {
                    "type" : "string"
                  },
                  "MultipleType" : {
                    "type" : "boolean",
                    "example" : false
                  },
                  "CreationDateAndTime" : {
                    "type" : "string",
                    "format" : "datetime",
                    "example" : "2006-01-10T12:00:01.000-05:00"
                  }
                }
              }
            },
            "xml" : {
              "prefix" : "sh",
              "namespace" : "http://www.unece.org/cefact/namespaces/StandardBusinessDocumentHeader"
            }
          },
          "MessageText" : {
            "type" : "string",
            "format" : "string"
          }
        }
      },
      "EPCISDocument" : {
        "type" : "object",
        "properties" : {
          "schemaVersion" : {
            "type" : "string",
            "xml" : {
              "attribute" : true
            }
          },
          "creationDate" : {
            "type" : "string",
            "format" : "date",
            "xml" : {
              "attribute" : true
            }
          },
          "StandardBusinessDocumentHeader" : {
            "type" : "object",
            "properties" : {
              "HeaderVersion" : {
                "type" : "string",
                "example" : "1.0"
              },
              "Sender" : {
                "type" : "object",
                "properties" : {
                  "Identifier" : {
                    "type" : "string",
                    "example" : "6903148000007",
                    "description" : "This is the GLN of the sender.",
                    "properties" : {
                      "Authority" : {
                        "type" : "string",
                        "example" : "EAN.UCC",
                        "xml" : {
                          "attribute" : true
                        }
                      }
                    }
                  },
                  "ContactInformation" : {
                    "type" : "object",
                    "properties" : {
                      "Contact" : {
                        "type" : "string",
                        "example" : "John Doe"
                      },
                      "EmailAddress" : {
                        "type" : "string",
                        "example" : "John_Doe@purchasing.XYZretailer.com"
                      },
                      "FaxNumber" : {
                        "type" : "string",
                        "example" : "tel: +1-212-555-1213"
                      },
                      "TelephoneNumber" : {
                        "type" : "string",
                        "example" : "tel: +1-212-555-2122"
                      },
                      "ContactTypeIdentifier" : {
                        "type" : "string",
                        "example" : "Buyer"
                      }
                    }
                  }
                }
              },
              "Receiver" : {
                "type" : "object",
                "properties" : {
                  "Identifier" : {
                    "type" : "string",
                    "example" : "2203148000007",
                    "description" : "This is the GLN of the receiver.",
                    "properties" : {
                      "Authority" : {
                        "type" : "string",
                        "example" : "EAN.UCC",
                        "xml" : {
                          "attribute" : true
                        }
                      }
                    }
                  },
                  "ContactInformation" : {
                    "type" : "object",
                    "properties" : {
                      "Contact" : {
                        "type" : "string",
                        "example" : "Mary Smith"
                      },
                      "EmailAddress" : {
                        "type" : "string",
                        "example" : "Mary_Smith@widgets.com"
                      },
                      "FaxNumber" : {
                        "type" : "string",
                        "example" : "tel:+1-312-555-1214"
                      },
                      "TelephoneNumber" : {
                        "type" : "string",
                        "example" : "tel:+1-312-555-2125"
                      },
                      "ContactTypeIdentifier" : {
                        "type" : "string",
                        "example" : "Seller"
                      }
                    }
                  }
                }
              },
              "DocumentIdentification" : {
                "type" : "object",
                "properties" : {
                  "Standard" : {
                    "type" : "string",
                    "example" : "EAN.UCC"
                  },
                  "TypeVersion" : {
                    "type" : "string",
                    "example" : "2.1"
                  },
                  "InstanceIdentifier" : {
                    "type" : "string",
                    "example" : "100002"
                  },
                  "Type" : {
                    "type" : "string"
                  },
                  "MultipleType" : {
                    "type" : "boolean",
                    "example" : false
                  },
                  "CreationDateAndTime" : {
                    "type" : "string",
                    "format" : "datetime",
                    "example" : "2006-01-10T12:00:01.000-05:00"
                  }
                }
              }
            },
            "xml" : {
              "prefix" : "sh",
              "namespace" : "http://www.unece.org/cefact/namespaces/StandardBusinessDocumentHeader"
            }
          },
          "EPCISBody" : {
            "type" : "object",
            "properties" : {
              "EventList" : {
                "type" : "object",
                "properties" : {
                  "ObjectEvent" : {
                    "type" : "object",
                    "properties" : {
                      "eventTime" : {
                        "type" : "string",
                        "format" : "date"
                      },
                      "eventTimeZoneOffset" : {
                        "type" : "string"
                      },
                      "epcList" : {
                        "type" : "object",
                        "properties" : {
                          "epc" : {
                            "type" : "string"
                          }
                        }
                      },
                      "action" : {
                        "type" : "string"
                      },
                      "bizStep" : {
                        "type" : "string"
                      },
                      "disposition" : {
                        "type" : "string"
                      },
                      "readPoint" : {
                        "type" : "object",
                        "properties" : {
                          "id" : {
                            "type" : "string"
                          }
                        }
                      },
                      "bizLocation" : {
                        "type" : "object",
                        "properties" : {
                          "id" : {
                            "type" : "string"
                          }
                        }
                      },
                      "bizTransactionList" : {
                        "type" : "object",
                        "properties" : {
                          "bizTransaction" : {
                            "type" : "string",
                            "properties" : {
                              "type" : {
                                "type" : "string",
                                "xml" : {
                                  "attribute" : true
                                }
                              }
                            }
                          }
                        }
                      },
                      "extension" : {
                        "type" : "object",
                        "properties" : {
                          "sourceList" : {
                            "type" : "object",
                            "properties" : {
                              "source" : {
                                "type" : "string"
                              }
                            }
                          },
                          "destinationList" : {
                            "type" : "object",
                            "properties" : {
                              "destination" : {
                                "type" : "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "description" : "An ObjectEvent for an EPCIS File",
        "xml" : {
          "prefix" : "epcis",
          "namespace" : "urn:epcglobal:epcis:xsd:1"
        }
      }
    }
  }
}
